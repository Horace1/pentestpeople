<?php

namespace App\Http\Controllers\api\v1;

use App\Http\Controllers\Controller;
use App\Http\Resources\StatsResource;
use App\Http\Resources\TicketResource;
use App\Models\Ticket;
use Illuminate\Http\Request;

class TicketController extends Controller
{
    public function open()
    {
        return TicketResource::collection(Ticket::where('status', 0)->paginate(20));
    }

    public function closed()
    {
        return TicketResource::collection(Ticket::where('status', 1)->paginate(20));
    }

    public function email($email=null)
    {
        return TicketResource::collection(Ticket::where('email', $email)->paginate(20));
    }

    public function stats()
    {
        return StatsResource::collection(Ticket::all());
    }
}
